function formatCurrency(num,inputType,decimal,max) {
	if(num=="-")return num;
	if(num == null) num = "0";
    
	var split = num.toString().split(".");
	
	if(split.length > 1){
		num = split[0];
	}
	var dec2 =  0+"."+0;
	if(decimal > 0){
		if(split.length > 1){
			dec2 = 0 +"."+split[1].substring(0,decimal);
		}
		dec2 = parseFloat(dec2).toFixed(decimal);
		dec2 = dec2.split(".")[1].substring(0,decimal);
	}
	
	
    num = num.toString().replace(/[^0-9+\-Ee.]/g, '');
    if(num == "-0"){
    	sign = false;
    }else{
    	sign = (num == (num = Math.abs(num)));
    }
    if(isNaN(num)) num = "0";
    if(max != null && max > 0 && sign){
    	if(num > max){
    		num = max;
    	}
    }

    num = Math.floor(num*100+0.50000000001);
    num = Math.floor(num/100).toString();
    for (var i = 0; i < Math.floor((num.length-(1+i))/3); i++ )
        num = num.substring(0,num.length-(4*i+3))+','+
            num.substring(num.length-(4*i+3));
    
    if(decimal != null && decimal > 0){
    	var tempNum = num.replace(/[^0-9+\-Ee.]/g, '') +"."+ dec2;

    	var isRep = true;
        if(max != null && max > 0 && sign){
        	if(tempNum > max){
        		isRep = false;
        		var defaultDecimal = 0.0;
        		defaultDecimal = parseFloat(defaultDecimal).toFixed(decimal);
        		num += "."+ defaultDecimal.split(".")[1];
        	}
        }
        if(isRep) num += "."+ dec2;
	}
    if(num != '0' ) {
    	prefix = sign ? '':'-';
    	if(inputType == null){
    		if(prefix == '-'){
        		num = "<span style='color:red'>"+prefix+num+"</span>";
        	}
    	}else{
        	num = prefix + num;	
    	}
    }else if(num == '0'){
    	return num;
    }else {
    	num = '';
    }
    return num;
}
function formatIpNew(num,inputType,decimal,max) {
	if(num=="-")return num;
	if(num == null) num = "";
	var split = num.toString().split(".");
	
	if(split.length > 1){
		num = split[0];
	}
	var dec2 =  0+"."+0;
	if(decimal > 0){
		if(split.length > 1){
			dec2 = 0 +"."+split[1].substring(0,decimal);
		}
		dec2 = parseFloat(dec2).toFixed(decimal);
		dec2 = dec2.split(".")[1].substring(0,decimal);
	}
    num = num.toString().replace(/[^0-9+\-Ee.]/g, '');
    if(num == "-0"){
    	sign = false;
    }else{
    	 if(num == ""){
    		 
    	 }else{
    		 sign = (num == (num = Math.abs(num)));
    	 }
    }
    if(isNaN(num)) num = "";
    if(max != null && max > 0 && sign){
    	if(num > max){
    		num = max;
    	}
    }

   if(num!=""){
    num = Math.floor(num*100+0.50000000001);
    num = Math.floor(num/100).toString();
    for (var i = 0; i < Math.floor((num.length-(1+i))/3); i++ )
        num = num.substring(0,num.length-(4*i+3))+','+
            num.substring(num.length-(4*i+3));
    
    if(decimal != null && decimal > 0){
    	var tempNum = num.replace(/[^0-9+\-Ee.]/g, '') +"."+ dec2;

    	var isRep = true;
        if(max != null && max > 0 && sign){
        	if(tempNum > max){
        		isRep = false;
        		var defaultDecimal = 0.0;
        		defaultDecimal = parseFloat(defaultDecimal).toFixed(decimal);
        		num += "."+ defaultDecimal.split(".")[1];
        	}
        }
        if(isRep) num += "."+ dec2;
	}
    if(num != '0' ) {
    	prefix = sign ? '':'-';
    	if(inputType == null){
    		if(prefix == '-'){
        		num = "<span style='color:red'>"+prefix+num+"</span>";
        	}
    	}else{
        	num = prefix + num;	
    	}
    }else if(num == '0'){
    	return num;
    }else {
    	num = '';
    }
   }
    return num;
}

var formatAccNoNewArr=["xxxx-xxxx-xxxx-xxxx","xxx-xxx-xxx","xxx-xxx-xxxx","xxx-xxxx-xxxx","xxxx-xxxx-xxxx","xxx-xxx-xxx-xxxx","xxx-xxx-xxxx-xxxx","xxx-xxxx-xxxx-xxxx","xxxx-xxxx-xxxx-xxxx"];
function formatAccNoNew(acc,maxlength) {
	if(acc==null||acc===undefined){
		return "";
	}else{
		acc = acc.replaceAll("-","");
	}
	
	if(acc.length > maxlength){
		acc = acc.substring(0,maxlength);
	}

	var res="";
	var formatIndex = acc.length - 8;
	if(formatIndex < 0) {
		formatIndex = 0
	}
	if(formatIndex >= this.formatAccNoNewArr.length){
		// ini kalo ga ketemu length
		return acc;
	}

	var format = this.formatAccNoNewArr[formatIndex];
	var indexofformat = 1;
	for (var i = 0; i < acc.length; i++ ){
		res += acc[i];
		if(format[i+indexofformat] == "-"){
			if(i != acc.length-1){
				indexofformat += 1;
				res+="-";
			}
		}
	}

	return res;
}

function formatCurrencyToDb(num) {	   		
    return num.replace(/,/g, '');
}